(function(n,t){"use strict";var r=function(){if(!(this instanceof r))return new r},u;r.about={version:"1.0.0",author:"Ajeesh M Sudhakaran",date:"17/08/2014"};u={onSessionExpiration:function(){console.log("Session Expired")}};r.init=function(n){n.onSessionExpiration&&(u.onSessionExpiration=n.onSessionExpiration)};r.delayExecute=function(){var n=0;return function(t,i){clearTimeout(n);n=setTimeout(t,i)}}();r.helpers={guid:function(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()},encodeURI:function(n,t){var f=[],i,u,r;for(i in n)u=t?t+"["+i+"]":i,r=n[i],f.push(typeof r=="object"?serialize(r,u):encodeURIComponent(u)+"="+encodeURIComponent(r));return f.join("&")},positionCenter:function(){var n=arguments[0];n.jquery||(n=t(n));n.css({top:"50%",left:"50%",margin:n.height()/-2+"px 0 0 "+n.width()/-2+"px"})}};r.model={extend:function(n){var i=function(n){var t=this;for(var i in n)t._data[i]=n[i];t.init.apply(this,arguments)},u;if(i.prototype._data={},n.defaults)for(u in n.defaults)i.prototype._data[u]=n.defaults[u];i.prototype.get=function(){if(arguments.length==1){var n=arguments[0];return typeof this._data[n]=="function"?this._data[n]():this._data[n]}return this.getAll()};i.prototype.getAll=function(){var n={};for(var t in this._data)n[t]=this.get(t);return n};i.prototype.set=function(){if(arguments.length==2){var n=arguments[0],t=arguments[1];return typeof this._data[n]!="function"?this._data[n]=t:this._data[n](t),this.get(n)}if(arguments.length==1)return this.setAll(arguments[0])};i.prototype.setAll=function(){var n=arguments[0];for(var t in n)this.set(t,n[t]);return this.getAll()};i.prototype.sync=function(){var n=this.url||"",t=arguments[0]||"GET";return r.ajax({url:n,method:t,data:this.getAll(),headers:{Accept:"application/json"},success:arguments[2],error:arguments[3]})};i.prototype.post=function(){return this.sync("POST",arguments[0],arguments[1])};i.prototype.put=function(){return this.sync("PUT",arguments[0],arguments[1])};i.prototype.delete=function(){return this.sync("DELETE",arguments[0],arguments[1])};for(u in n)u!="defaults"&&(i.prototype[u]=n[u]);return i.prototype.bind=function(){var r=this,n=arguments[0],i={},u,f,e;typeof n=="string"?u=t(n):typeof n=="object"&&n.tagName?u=t(n):typeof n=="object"&&n.jquery?u=n:i=n;u&&u.find("[name]").each(function(n,r){i[r.name.toString()]=t(r)});for(f in i)e=i[f].jquery?i[f]:t(i[f]),e.change(function(n){var t=n.target.getAttribute("Name");if(r.set(t,isFinite(n.target.value)?n.target.value*1:n.target.value.trim()),r.onChange)r.onChange(n.target)});return r._mapping=i,r},i.prototype.init||(i.prototype.init=function(){}),i}};r.collection=function(n){var t,u,f;n=n||{};t=function(){var n=this;n._data=[]};t.prototype.add=function(n){return this._data.push(n),this};t.prototype.count=function(){return this._data.length};t.prototype.firstOrDefault=function(n){return this._data.filter(n)[0]};t.prototype.empty=function(){return this._data=[],this};t.prototype.insert=function(n){if(Object.prototype.toString.call(n)=="[object Array]")for(var t=0;t<n.length;t++)this.add(n[t]);else this.add(n);return this};t.prototype.remove=function(n){var t=this._data.indexOf(n);return this._data.splice(t,1),this};t.prototype.removeAt=function(){return this._data.splice(i,1),this};t.prototype.replace=function(n,t){var i=this._data.indexOf(n);return i>=0&&(this._data[i]=t),this};t.prototype.select=function(n){for(var i,r=[],t=0;t<this._data.length;t++)i=n(this._data[t]),i&&r.push(i);return r};t.prototype.toArray=function(){return this._data};t.prototype.where=function(n){return this._data.filter(n)};u=new t;for(f in n)u[f]=n[f];return n.expiry||(u.expiry=0),n.onExpiry||(u.onExpiry=function(){return!0}),u.expiry>0&&u.sync&&u.onExpiry!=!1&&r.ajax({url:u.sync.url,method:u.sync.method,success:function(n){u.empty().insert(n)}}),u};r.ajax=function(n){var t,i;n.url=n.url||"";n.method=n.method||"GET";n.data=n.data||"";n.headers=n.headers||{};n.dataType=n.dataType||"*/*";n.contentType=n.contentType||"application/x-www-form-urlencoded; charset=UTF-8";t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState==4){if(t.status==200&&n.success)return t.getResponseHeader("Content-Type")=="application/json; charset=utf-8"?n.success(JSON.parse(t.responseText)):n.success(t.response);if(t.status==401&&u.onSessionExpiration)return u.onSessionExpiration();if(n.error)return n.error()}};t.open(n.method,n.url);t.setRequestHeader("X-Requested-With","XMLHttpRequest");t.setRequestHeader("Accept",n.dataType);t.setRequestHeader("Content-Type",n.contentType);for(i in n.headers)t.setRequestHeader(i.toString(),n.headers[i].toString());return t.send(r.helpers.encodeURI(n.data)),n.progress&&t.onprogress&&(t.onprogress=function(t){return n.progress(t.loaded*100/t.total)}),t};n.storm=n.st=r})(this,jQuery);
/*
//# sourceMappingURL=Storm.min.js.map
*/